buildscript {
    repositories {
        mavenLocal()
    }
    dependencies {
        classpath('io.sealights.on-premise.agents.plugin:sealights-gradle-plugin:3.0.0')
    }
}

allprojects.each { p ->
    def included = []
    def excluded = []

    if (!included.isEmpty()) {
        println "[SeaLights Integration] Including only projects: ${included}"
    }
    if (!excluded.isEmpty()) {
        println "[SeaLights Integration] Excluding projects: ${excluded}"
    }

    if (!excluded.contains(p.name) &&
            (included.isEmpty() || included.contains(p.name))) {
        println "[SeaLights Integration] SeaLights applied to project: '${p.name}'"
        p.apply plugin: io.sealights.onpremise.agents.plugin.SealightsPlugin

        p.sealights {

token="eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL0RFVi1rYW1pbC5hdXRoLnNlYWxpZ2h0cy5pby8iLCJqd3RpZCI6IkRFVi1rYW1pbCxpLTBmMjAyOTk0N2E3ZDdmNzZkLEFQSUdXLWE2YWMyNmUwLTYwZWQtNGMyNy05NTBhLThiNWY0NmU4YWRmZiwxNjAxNjI0NzY3NzUxIiwic3ViamVjdCI6IlNlYUxpZ2h0c0BhZ2VudCIsImF1ZGllbmNlIjpbImFnZW50cyJdLCJ4LXNsLXJvbGUiOiJhZ2VudCIsIngtc2wtc2VydmVyIjoiaHR0cHM6Ly9kZXYta2FtaWwtZ3cuZGV2LnNlYWxpZ2h0cy5jby9hcGkiLCJzbF9pbXBlcl9zdWJqZWN0IjoiIiwiaWF0IjoxNjAxNjI0NzY3fQ.AqsR8Yccm_pTDsOOICbSeQCcgYRFmqDg3IvE1ujIRkP5I_lvcn_o-ERiq-3FEg-Ca8uMiCp5EPq6KikRFdeGpjBwRFXLWiCOQ_WrrAAeFe3PNoWe1o_096NAf5VNozTdM2XmG2L8JxncqFGSVd0gdFbY2vW4kWQqibuh3Yz0BYj9XsX0L2D9bFs19i9h79n4s3BZcaNvwKnMuQZW_qPbXtdEDB8IrSnwE-p1-suwu9kIPLMowhP6uut7MkUWBIu9TMz-p7sb-osZGrKDPajbuG43X6MptFpfoBEwgYbo8pJof-SrJ_R-0PO4T9zdONzRgSkjLHNa8qZ2PAaQI7pK90Ij8ThrUz7bfg6Corb0pbh1F-OAkDi9GEdS5CHvGSpB4q-fIw68761-7oBoNeprS1UAKishYI1tWPOLYRj-nGo219u38IX5gh-tPDnpgW7vQhPX2yqhd-bq_6duDQbeyauk76cAv18jyka-wIYpl7hIo5rAEWcE0A97mzDimGyAbRZbqRz0MRwsRhX7pMXYGO9crp8kaorGLVaUnsuDT18YJe_5CbTBXa9ZBa-zhpEwUkvBdb6VX0GlmLd-QIKh5kH9cGnwoANbOrgDevKVMqIR-h7LbzOUx2IeZVBT03bZq26yPn0wU0UgZ6xPJhCZ63b1gPQmInGyLGMf1u-QjjM"
appName="SL.Android.Examples"
packagesIncluded="*com.example.*"
packagesExcluded=""
recursive=true
includeResources=true
runTestOnly=false
logEnabled=true
logPluginMinimal=false
logToConsole=false
logLevel="off"
logFolder="/tmp"
createBuildSessionId=true
build="SL_Timestamp"

buildScannerJar="/home/kamil/workspace/sealights/projects/SL.OnPremise.Agents.Java/java-build-agent/target/java-build-agent-3.0.0-SNAPSHOT.jar"
branch="master"

        }
    }
}